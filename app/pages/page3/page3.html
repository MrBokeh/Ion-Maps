<ion-navbar primary *navbar>
    <ion-title>
        Navigation
    </ion-title>
</ion-navbar>

<ion-content padding class="page3">

    <ion-card [hidden]="navigating">
        <ion-card-header>
            Directions
        </ion-card-header>
        <ion-card-content>

            <ion-item>
                <ion-input #start [value]="startPosition" type="text" placeholder="From"></ion-input>
            </ion-item>

            <ion-item>
                <ion-input #end [value]="endPosition" type="text" placeholder="To"></ion-input>
            </ion-item>

        </ion-card-content>
        <ion-item>
            <button primary clear item-right (click)="_setCurrent()">
                <ion-icon name="position"></ion-icon>
                <div>Current Location</div>
            </button>
            
            <button primary clear item-left (click)="startSearch()">
                <ion-icon name="search"></ion-icon>
                <div>Search</div>
            </button>
        </ion-item>
    </ion-card>
    
    <button id="done" [hidden]="!navigating" primary block (click)="done()">
        End Navigation
    </button>
    
    <div id="travelTime" [hidden]="!navigating">Travel Time: {{timeToTravel}}</div>

    <div style="width:100%; height: 300px;" id="map">
        Loading map...
    </div>

    <ion-list id="list" no-lines>
        <ion-item *ngFor="#direction of directions">
            <div [innerHTML]="direction.instructions"></div>
        </ion-item>
    </ion-list>

</ion-content>

<button id="goButton" (click)="go(start.value, end.value)" fab fab-bottom fab-right secondary>
    <ion-icon name="navigate"></ion-icon>
</button>